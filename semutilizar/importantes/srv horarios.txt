------------------------------------------

SSH

IP - DCHP
login: materdei
senha: Mater@2019!

------------------------------------------

PHPMYADMIN

usuário: root
senha: Horarios@2025!;

usuário: ocs
senha: OcsAdm@2025!;

------------------------------------------

FTP

Host: 192.168.0.91
login: materdei
senha: Mater@2019!

------------------------------------------

Instale e Configure o Apache

1º Instale o servidor web Apache: 
sudo apt install apache2 -y

2º Verifique se o serviço está ativo: 
sudo systemctl status apache2

3º Se necessário, ajuste o firewall para permitir tráfego HTTP e HTTPS: 
sudo ufw allow in "Apache Full"

4º Instale o MariaDB: 
sudo apt install mariadb-server -y

5º Execute o script de segurança do MariaDB para configurar senhas e remover contas desnecessárias: 
sudo mysql_secure_installation

(Responda às perguntas conforme sua necessidade (recomendado definir uma senha forte para o usuário root e remover usuários anônimos).

- criar senha de root: Horarios@2025!;
- aperte o ENTER para tudo e remova o usuário anonimo

6º Como o phpMyAdmin depende do PHP, instale-o junto com os módulos que permitem a comunicação com o MariaDB: 
sudo apt install php libapache2-mod-php php-mysql -y

7º Depois, reinicie o Apache para carregar as novas configurações: 
sudo systemctl restart apache2

8º Instale o phpMyAdmin: 
sudo apt install phpmyadmin -y

Se o phpMyAdmin não for automaticamente configurado no Apache, verifique se o arquivo de configuração foi incluído. Normalmente, um link simbólico é criado em /etc/apache2/conf-enabled/phpmyadmin.conf. Se não estiver ativo, ative-o com:

sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf
sudo a2enconf phpmyadmin
sudo systemctl reload apache2

9º Crie uma senha para o phpmyadmin 
senha: Diezare@220691!.

10º Para transferência de arquivos, instale o vsftpd: 
sudo apt install vsftpd -y

11º Backup e edite a configuração:  
sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.bak
sudo nano /etc/vsftpd.conf

12º Algumas configurações recomendadas:

- Permitir escrita para os usuários: write_enable=YES
- (Opcional) Se desejar restringir os usuários a seus diretórios, descomente e ajuste: chroot_local_user=YES

13º Após editar e salvar (Ctrl+O, Enter e Ctrl+X), reinicie o serviço: 
sudo systemctl restart vsftpd

14º Caso precise liberar as portas FTP (20 e 21) no firewall, use: 
sudo ufw allow 20/tcp
sudo ufw allow 21/tcp

15º Teste a Configuração

IP do servidor/phpmyadmin (192.168.0.116/phpmyadmin)

16º Configurando o php 8.2
sudo apt update
sudo apt install software-properties-common -y

17º Adicione o repositório que contém o PHP 8.2:  
sudo add-apt-repository ppa:ondrej/php
sudo apt update

18º Instale o PHP 8.2 junto com os módulos que você precisa (por exemplo, para integração com o MariaDB e suporte a diversas funcionalidades):
sudo apt install php8.2 libapache2-mod-php8.2 php8.2-mysql php8.2-cli php8.2-common php8.2-gd php8.2-mbstring php8.2-curl php8.2-xml php8.2-zip -y

19º Após a instalação, reinicie o Apache para que o novo módulo do PHP seja carregado:
sudo systemctl restart apache2

20º Para confirmar que a versão instalada é a 8.2, execute: 
php -v

21º Vamos criar a pasta do arquivo em um local seguro: 
sudo mkdir -p /var/www/horários 
(não é o mais recomendado, mas interno, com segurança, vai na padrão)

22º Defina a propriedade da pasta para o usuário e grupo do Apache: 
sudo chown -R www-data:www-data /var/www/horarios

23º Crie um Arquivo de Configuração para o VirtualHost
Crie um novo arquivo de configuração para o seu site em /etc/apache2/sites-available. Vamos chamá-lo de horarios.conf:
sudo nano /etc/apache2/sites-available/horarios.conf

24º Cole o seguinte conteúdo, substituindo /var/www/horarios pelo caminho da sua pasta, se necessário:

<VirtualHost *:80>
    DocumentRoot /var/www/horarios

    <Directory /var/www/horarios>
        Options -Indexes +FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>
    
    ErrorLog ${APACHE_LOG_DIR}/horarios_error.log
    CustomLog ${APACHE_LOG_DIR}/horarios_access.log combined
</VirtualHost>
25º Habilite a nova configuração com o comando:
sudo a2ensite horarios.conf

26º Se desejar que o Apache não utilize o site padrão (geralmente /var/www/html), você pode desabilitá-lo:
sudo a2dissite 000-default.conf

27º Verifique se não há erros de sintaxe na configuração do Apache:
sudo apache2ctl configtest

28º Se tudo estiver OK, reinicie o Apache para aplicar as mudanças:
sudo systemctl reload apache2

29º Ajuste as permissões do FTP: 
sudo chown -R materdei:materdei /var/www/horários

Ou, se preferir manter o grupo www-data e adicionar o usuário ao grupo, verifique se o usuário materdei está incluído no grupo e ajuste as permissões com:

sudo chown -R www-data:www-data /var/www/horarios
sudo usermod -a -G www-data materdei
sudo chmod -R 775 /var/www/horarios

30º Reinicie o vsftpd após as alterações:
sudo systemctl restart vsftpd




